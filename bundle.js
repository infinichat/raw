(()=>{"use strict";var e={891:function(e,t,n){var o,a,r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,r){function i(e){try{l(o.next(e))}catch(e){r(e)}}function c(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}l((o=o.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,o,a,r,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(c){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,c[0]&&(i=0)),i;)try{if(n=1,o&&(a=2&c[0]?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,o=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){i.label=c[1];break}if(6===c[0]&&i.label<a[1]){i.label=a[1],a=c;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(c);break}a[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],o=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.customizeOptionsButtons=t.customizeChatbotInit=t.customizeChatbot=t.customizeElement=t.setStyle=t.updateOptionsButtons=void 0;var s=l(n(911));document.addEventListener("DOMContentLoaded",(function(){var e=document.createElement("link");e.rel="stylesheet",e.href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0",document.head.appendChild(e);var t=document.createElement("link");t.rel="stylesheet",t.href="https://cdn.jsdelivr.net/gh/shibotgit/repo/src/widget.css",document.head.appendChild(t)}));var d=document.createElement("span");d.className="material-symbols-outlined",d.id="send-button",d.textContent="send";var u=document.createElement("span");d.className="material-symbols-outlined",d.id="mood-menu",d.textContent="mood";var m=document.createElement("span");m.className="material-symbols-outlined",m.id="drop-menu",m.textContent="more_vert";var p=document.createElement("textarea"),h=document.createElement("span");h.className="close-btn material-symbols-outlined";var v=document.createElement("button");v.className="chatbot-toggler";var f=document.createElement("span");f.className="material-symbols-outlined",f.textContent="mode_comment";var g=document.createElement("span");g.className="material-symbols-outlined",g.textContent="close",v.appendChild(f),v.appendChild(g);var y=document.createElement("div");y.className="chatbot";var b=document.createElement("header"),E=document.createElement("h2");E.textContent="Welcome!";var C=document.createElement("span");C.className="close-btn material-symbols-outlined",C.textContent="close";var k=document.createElement("div");k.className="logo",k.innerHTML="To ShiBOT live chat with AI company.<br>We're always online and ready to chat!",b.appendChild(E),b.appendChild(C),b.appendChild(k);var L=document.createElement("ul");L.className="chatbox",L.id="chatbot-container";var w=document.createElement("span");w.className="material-symbols-outlined",w.textContent="smart_toy",document.createElement("p").innerHTML="Hi there! I am your friendly assistant.";var x=document.createElement("div");x.className="parent-container";var B=document.createElement("li");B.className="chat quick-reply";var N=document.createElement("div");N.className="chat-input";var T=document.createElement("div");T.className="menu",T.id="menu";var q=document.createElement("ul");q.className="menu-ul";var S=document.createElement("li");S.className="menu-active",S.id="report-issue",S.innerHTML="Report an issue";var j=document.createElement("div");j.className="emoji-menu menu",j.id="emoji-menu";var H=document.createElement("div");H.className="emoji-div";var O,_=document.createElement("ul");_.className="emoji-list",["üòÄ","üòç","üéâ"].forEach((function(e){var t=document.createElement("li");t.className="menu-active",t.setAttribute("data-emoji","üòÄ"),_.appendChild(t)})),y.appendChild(j),j.appendChild(H),H.appendChild(_),y.appendChild(T),T.appendChild(q),q.appendChild(S),N.appendChild(d),N.appendChild(u),N.appendChild(m),y.appendChild(N),N.appendChild(p),x.appendChild(B),L.appendChild(x),y.appendChild(b),y.appendChild(L),document.body.appendChild(v),document.body.appendChild(y);var M=p.scrollHeight;p&&p.addEventListener("input",(function(){p.style.height="".concat(M,"px"),p.style.height="".concat(p.scrollHeight,"px")}));var R=function(e,t){var n=document.createElement("li");n.classList.add("chat",t);var o="outgoing"===t?"<p></p>":'<span class="material-symbols-outlined">smart_toy</span><p></p>';n.innerHTML=o;var a=n.querySelector("p");if(a)a.textContent=e;else{var r=document.createElement("p");r.textContent=e,n.appendChild(r)}return n};function z(){var e=document.getElementById("emoji-menu");null==e||e.classList.toggle("visible")}null===(o=document.getElementById("drop-menu"))||void 0===o||o.addEventListener("click",(function(){var e=document.getElementById("menu");null==e||e.classList.toggle("visible")})),null===(a=document.getElementById("mood-menu"))||void 0===a||a.addEventListener("click",z),document.querySelectorAll(".menu-active[data-emoji]").forEach((function(e){e.addEventListener("click",(function(){var t=e.getAttribute("data-emoji");t&&(p.value+=t,z())}))})),document.addEventListener("DOMContentLoaded",(function(){document.getElementById("report-issue").addEventListener("click",(function(){alert("Report an issue clicked")}))})),p&&p.addEventListener("keydown",(function(e){"Enter"===e.key&&!e.shiftKey&&window.innerWidth>800&&(e.preventDefault(),A())}));var I=!1;function A(){return i(this,void 0,void 0,(function(){var e,t,n,o,a,r,i;return c(this,(function(c){switch(c.label){case 0:O=p.value,p.value="",p.style.height="".concat(M,"px"),L.appendChild(R(O,"outgoing")),L.scrollTo(0,L.scrollHeight),e=R("Thinking...","incoming"),t=e.querySelector("p"),L.appendChild(e),L.scrollTo(0,L.scrollHeight),c.label=1;case 1:return c.trys.push([1,4,,5]),[4,(0,s.default)("/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:O})})];case 2:return[4,c.sent().json()];case 3:return n=c.sent(),t.textContent=n.response,o=R(n.response,"incoming"),L.replaceChild(o,e),L.scrollTo(0,L.scrollHeight),[3,5];case 4:return a=c.sent(),console.error("Error:",a),r=R("Error occurred. Please try again.","incoming"),L.replaceChild(r,e),L.scrollTo(0,L.scrollHeight),[3,5];case 5:return I||((i=document.createElement("div")).classList.add("rating-container"),L.appendChild(i),setTimeout((function(){var e=R("How would you rate this conversation? Choose emoji:","incoming");e.classList.add("rating-message");var t=document.createElement("div");t.classList.add("emoji-buttons"),["üòÉ","üòê","üòû"].forEach((function(e){var n=document.createElement("button");n.classList.add("emoji-button"),n.innerText=e,n.addEventListener("click",(function(){var t=R("–í–∏ –æ—Ü—ñ–Ω–∏–ª–∏ —Ä–æ–∑–º–æ–≤—É —è–∫: ".concat(e),"incoming");L.appendChild(t),L.scrollTo(0,L.scrollHeight)})),t.appendChild(n)})),e.appendChild(t),i.appendChild(e),L.scrollTo(0,L.scrollHeight),I=!0}),3e3)),[2]}}))}))}function P(e,t){t.text&&t.text.forEach((function(e,n){var o="quick-reply-button-".concat(n),a=document.createElement("button");a.className="quick-reply-button",a.textContent=e,a.id=o,a.addEventListener("click",(function(){var e,a,r=null===(e=t.buttonMessages)||void 0===e?void 0:e[o],i=void 0!==r?r:"Button ".concat(n+1," clicked");(a=R(i,"incoming")).querySelector("p"),L.appendChild(a),L.scrollTo(0,L.scrollHeight)})),B.appendChild(a)})),e.appendChild(B);for(var n=document.querySelectorAll(".quick-reply-button"),o=0;o<n.length-1;o++){var a=n[o];t.quickReplyButtonBackground&&(a.style.background=t.quickReplyButtonBackground),t.quickReplyButtonBorderBottom&&(a.style.borderBottom=t.quickReplyButtonBorderBottom)}var r=n[n.length-1];t.quickReplyButtonBackground&&(r.style.background=t.quickReplyButtonBackground),r.style.borderBottom="none"}function D(e,t){Object.assign(e.style,t)}function J(e,t){var n=document.querySelector(e);n&&D(n,t)}function W(e){var t,n,o,a;J(".chatbot",{background:e.chatbotBackground}),J(".chatbot-toggler",{background:e.chatbotTogglerBackground,right:null===(t=e.chatbotTogglerPosition)||void 0===t?void 0:t.right,bottom:null===(n=e.chatbotTogglerPosition)||void 0===n?void 0:n.bottom,height:null===(o=e.chatbotTogglerSize)||void 0===o?void 0:o.height,width:null===(a=e.chatbotTogglerSize)||void 0===a?void 0:a.width});var r=document.querySelector("h2");r&&e.headerMessage&&(r.innerHTML=e.headerMessage);var i=document.querySelector(".logo");i&&e.logoContent&&(i.innerHTML=e.logoContent)}function G(){var e=document.querySelector("script[data-custom-options]"),t=(null==e?void 0:e.getAttribute("data-custom-options"))||"{}",n=JSON.parse(t);W(r(r({},{}),n))}function F(){var e=document.querySelector("script[data-custom-options]"),t=(null==e?void 0:e.getAttribute("data-custom-options"))||"{}",n=JSON.parse(t),o=r(r({},{}),n),a=document.querySelector(".chat.quick-reply");a&&P(a,o)}d.addEventListener("click",A),v.addEventListener("click",(function(){return document.body.classList.toggle("show-chatbot")})),h.addEventListener("click",(function(){return document.body.classList.remove("show-chatbot")})),t.updateOptionsButtons=P,t.setStyle=D,t.customizeElement=J,t.customizeChatbot=W,t.customizeChatbotInit=G,t.customizeOptionsButtons=F,document.addEventListener("DOMContentLoaded",(function(){G(),F()}))},911:(e,t)=>{var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n)return n;throw new Error("unable to locate global object")}();e.exports=t=n.fetch,n.fetch&&(t.default=n.fetch.bind(n)),t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response}},t={};!function n(o){var a=t[o];if(void 0!==a)return a.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}(891)})();